{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet PanierComponent = class PanierComponent {\n  constructor(basketService) {\n    this.basketService = basketService;\n    this.Total = 0;\n    this.SubTotal = 0;\n    this.DisCountSales = 50;\n    this.TotalSalesTax = 20;\n  }\n  ngOnInit() {\n    this.basketService.getBasket().subscribe(response => {\n      this.Baskets = response;\n      this.Products = Object.values(response);\n      this.Products.forEach(element => {\n        this.Total += element.product.price;\n      });\n      this.SubTotal = this.Total;\n      this.Total += this.TotalSalesTax - this.DisCountSales;\n    });\n  }\n  increase(Product) {\n    if (Product.quantite >= Product.product.stock) {\n      Product.quantite = Product.product.stock;\n    } else {\n      Product.quantite++;\n      Product.price = Product.quantite * Product.product.price;\n    }\n  }\n  decrease(Product) {\n    if (Product.quantite < 2) {\n      Product.quantite = 1;\n    } else {\n      Product.quantite--;\n      Product.price -= Product.product.price;\n    }\n  }\n};\nPanierComponent = __decorate([Component({\n  selector: 'panier',\n  templateUrl: './panier.component.html',\n  styleUrls: ['./panier.component.css']\n})], PanierComponent);\nexport { PanierComponent };","map":{"version":3,"names":["Component","PanierComponent","constructor","basketService","Total","SubTotal","DisCountSales","TotalSalesTax","ngOnInit","getBasket","subscribe","response","Baskets","Products","Object","values","forEach","element","product","price","increase","Product","quantite","stock","decrease","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\WorkSpace\\Basics\\Angular\\Point Of Sale\\PointOfSale\\src\\app\\Components\\Components\\panier\\panier.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { basket } from 'src/app/Modules/Model/basket';\r\nimport { BasketService } from 'src/app/Services/Basket/basket.service';\r\n\r\n@Component({\r\n  selector: 'panier',\r\n  templateUrl: './panier.component.html',\r\n  styleUrls: ['./panier.component.css']\r\n})\r\nexport class PanierComponent implements OnInit  {\r\n  Products: any[];\r\n  Baskets: basket[];\r\n  Total: number = 0;\r\n  SubTotal: number = 0;\r\n  DisCountSales: number = 50;\r\n  TotalSalesTax: number = 20;\r\n\r\n  constructor(private basketService: BasketService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.basketService.getBasket().subscribe(\r\n      (response) => {\r\n        this.Baskets = response;\r\n\r\n        this.Products = Object.values(response);\r\n        this.Products.forEach(element => {\r\n          this.Total += element.product.price;\r\n        });\r\n        this.SubTotal = this.Total;\r\n        this.Total += this.TotalSalesTax - this.DisCountSales;\r\n      }\r\n    )\r\n  }\r\n\r\n  increase(Product: basket): void {\r\n    if(Product.quantite >= Product.product.stock) {\r\n      Product.quantite = Product.product.stock;\r\n    }\r\n    else {\r\n      Product.quantite++;\r\n      Product.price = Product.quantite * Product.product.price;\r\n    }\r\n  }\r\n\r\n  decrease(Product: basket): void {\r\n    if(Product.quantite < 2) {\r\n      Product.quantite = 1;\r\n    }\r\n    else {\r\n      Product.quantite--;\r\n      Product.price -= Product.product.price;\r\n    } \r\n  }\r\n\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AASjD,IAAaC,eAAe,GAA5B,MAAaA,eAAe;EAQ1BC,YAAoBC,aAA4B;IAA5B,KAAAA,aAAa,GAAbA,aAAa;IALjC,KAAAC,KAAK,GAAW,CAAC;IACjB,KAAAC,QAAQ,GAAW,CAAC;IACpB,KAAAC,aAAa,GAAW,EAAE;IAC1B,KAAAC,aAAa,GAAW,EAAE;EAEyB;EAEnDC,QAAQA,CAAA;IACN,IAAI,CAACL,aAAa,CAACM,SAAS,EAAE,CAACC,SAAS,CACrCC,QAAQ,IAAI;MACX,IAAI,CAACC,OAAO,GAAGD,QAAQ;MAEvB,IAAI,CAACE,QAAQ,GAAGC,MAAM,CAACC,MAAM,CAACJ,QAAQ,CAAC;MACvC,IAAI,CAACE,QAAQ,CAACG,OAAO,CAACC,OAAO,IAAG;QAC9B,IAAI,CAACb,KAAK,IAAIa,OAAO,CAACC,OAAO,CAACC,KAAK;MACrC,CAAC,CAAC;MACF,IAAI,CAACd,QAAQ,GAAG,IAAI,CAACD,KAAK;MAC1B,IAAI,CAACA,KAAK,IAAI,IAAI,CAACG,aAAa,GAAG,IAAI,CAACD,aAAa;IACvD,CAAC,CACF;EACH;EAEAc,QAAQA,CAACC,OAAe;IACtB,IAAGA,OAAO,CAACC,QAAQ,IAAID,OAAO,CAACH,OAAO,CAACK,KAAK,EAAE;MAC5CF,OAAO,CAACC,QAAQ,GAAGD,OAAO,CAACH,OAAO,CAACK,KAAK;KACzC,MACI;MACHF,OAAO,CAACC,QAAQ,EAAE;MAClBD,OAAO,CAACF,KAAK,GAAGE,OAAO,CAACC,QAAQ,GAAGD,OAAO,CAACH,OAAO,CAACC,KAAK;;EAE5D;EAEAK,QAAQA,CAACH,OAAe;IACtB,IAAGA,OAAO,CAACC,QAAQ,GAAG,CAAC,EAAE;MACvBD,OAAO,CAACC,QAAQ,GAAG,CAAC;KACrB,MACI;MACHD,OAAO,CAACC,QAAQ,EAAE;MAClBD,OAAO,CAACF,KAAK,IAAIE,OAAO,CAACH,OAAO,CAACC,KAAK;;EAE1C;CAED;AA7CYlB,eAAe,GAAAwB,UAAA,EAL3BzB,SAAS,CAAC;EACT0B,QAAQ,EAAE,QAAQ;EAClBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACW3B,eAAe,CA6C3B;SA7CYA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}